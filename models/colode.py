"""
–§–∞–π–ª, –æ–ø–∏—Å—ã–≤–∞—é—â–∏–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã –∫–æ–º–∞–Ω–¥—ã blackjack
"""

from random import choice

# –ö–æ–ª–æ–¥–∞ –Ω–∞ 52 –∫–∞—Ä—Ç—ã
c = {
    1: '2‚ù§Ô∏è',
    2: '2‚ô¶Ô∏è',
    3: '2‚ô†',
    4: '2‚ô£',
    5: '3‚ù§Ô∏è',
    6: '3‚ô¶Ô∏è',
    7: '3‚ô†',
    8: '3‚ô£',
    9: '4‚ù§Ô∏è',
    10: '4‚ô¶Ô∏è',
    11: '4‚ô†',
    12: '4‚ô£',
    13: '5‚ù§Ô∏è',
    14: '5‚ô¶Ô∏è',
    15: '5‚ô†',
    16: '5‚ô£',
    17: '6‚ù§Ô∏è',
    18: '6‚ô¶Ô∏è',
    19: '6‚ô†',
    20: '6‚ô£',
    21: '7‚ù§Ô∏è',
    22: '7‚ô¶Ô∏è',
    23: '7‚ô†',
    24: '7‚ô£',
    25: '8‚ù§Ô∏è',
    26: '8‚ô¶Ô∏è',
    27: '8‚ô†',
    28: '8‚ô£',
    29: '9‚ù§Ô∏è',
    30: '9‚ô¶Ô∏è',
    31: '9‚ô†',
    32: '9‚ô£',
    33: '10‚ù§Ô∏è',
    34: '10‚ô¶Ô∏è',
    35: '10‚ô†',
    36: '10‚ô£',
    37: 'J‚ù§Ô∏è',
    38: 'J‚ô¶Ô∏è',
    39: 'J‚ô†',
    40: 'J‚ô£',
    41: 'Q‚ù§Ô∏è',
    42: 'Q‚ô¶Ô∏è',
    43: 'Q‚ô†',
    44: 'Q‚ô£',
    45: 'K‚ù§Ô∏è',
    46: 'K‚ô¶Ô∏è',
    47: 'K‚ô†',
    48: 'K‚ô£',
    49: 'T‚ù§Ô∏è',
    50: 'T‚ô¶Ô∏è',
    51: 'T‚ô†',
    52: 'T‚ô£',
}


# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—á–∫–æ–≤, –∫–æ—Ç–æ—Ä–æ–µ –¥–∞—ë—Ç –∫–∞—Ä—Ç–∞ –∏–∑ c, —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ 1 –∫ 1
points = {
    1 : 2,
    2 : 2,
    3 : 2,
    4 : 2,
    5 : 3,
    6 : 3,
    7 : 3,
    8 : 3,
    9 : 4,
    10 : 4,
    11 : 4,
    12 : 4,
    13 : 5,
    14 : 5,
    15 : 5,
    16 : 5,
    17 : 6,
    18 : 6,
    19 : 6,
    20 : 6,
    21 : 7,
    22 : 7,
    23 : 7,
    24 : 7,
    25 : 8,
    26 : 8,
    27 : 8,
    28 : 8,
    29 : 9,
    30 : 9,
    31 : 9,
    32 : 9,
    33 : 10,
    34 : 10,
    35 : 10,
    36 : 10,
    37 : 10,
    38 : 10,
    39 : 10,
    40 : 10,
    41 : 10,
    42 : 10,
    43 : 10,
    44 : 10,
    45 : 10,
    46 : 10,
    47 : 10,
    48 : 10,
    49 : 11,
    50 : 11,
    51 : 11,
    52 : 11,
}

# –î–ª—è –∏–≥—Ä—ã –≤ blackjack –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è 6 –∫–æ–ª–æ–¥, —ç—Ç–æ –ø–∞—á–∫–∞
col = [i for i in range(1, 53)] * 6

emomoji = {
    1 : "1Ô∏è‚É£",
    2 : "2Ô∏è‚É£",
    3 : "3Ô∏è‚É£",
    4 : "4Ô∏è‚É£",
    5 : "5Ô∏è‚É£",
    6 : "6Ô∏è‚É£"
}

class Player():
    """
    –ö–ª–∞—Å—Å –∏–≥—Ä–æ–∫–∞, —Å–æ–∑–¥–∞—ë—Ç—Å—è –≤–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã –∫–æ–º–∞–Ω–¥—ã blackjack
    –∏ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ —Ä–∞–º–∫–∞—Ö 1-–π —Ä–∞–∑–¥–∞—á–∏
    """
    def __init__(self, name: str, bet: int, money: int, id: int) -> None:
        """
        –ê—Ä–≥—É–º–µ–Ω—Ç—ã:
            name: str - –∏–º—è –∏–≥—Ä–æ–∫–∞
            bet: int - —Å—Ç–∞–≤–∫–∞ –∏–≥—Ä–æ–∫–∞
            money: int - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–µ–Ω–µ–≥ –∏–≥—Ä–æ–∫–∞
            id: int - –∞–π–¥–∏ –∏–≥—Ä–æ–∫–∞ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
        """
        self.name = name
        self.bet = bet
        # –î–µ–ª–∞–ª –ª–∏ –∏–≥—Ä–æ–∫ —Å–ø–ª–∏—Ç
        self.split = False
        self.cards = 9999999999
        self.money = money
        # –ó–∞–≤–µ—Ä—à–∏–ª –ª–∏ –∏–≥—Ä–æ–∫ —Å–≤–æ–π —Ö–æ–¥
        self.end = False
        # –ö–∞—Ä—Ç—ã –≤ —Ä—É–∫–µ –∏–≥—Ä–æ–∫–∞
        self.hand = []
        self.id = id
        # –°–¥–∞–ª—Å—è –ª–∏ –∏–≥—Ä–æ–∫
        self.surrender = False
    
    def __str__(self) -> str:
        return f"name: {self.name}; bet: {self.bet}; split: {self.split}; cards: {self.cards}; money: {self.money}; end: {self.end}; hand: {self.hand}; surrender: {self.surrender}"

    def __repr__(self) -> str:
        return self.__str__()
    
    def from_dict(self, inf):
        """
        –ú–µ—Ç–æ–¥, —Å–æ–∑–¥–∞—é—â–∏–π –æ–±—ä–µ–∫—Ç –∏–≥—Ä–æ–∫–∞ –∏–∑ —Å–ª–æ–≤–∞—Ä—è
        """
        a = Player(inf['name'], inf['bet'], inf['money'], inf['id'])
        a.split = inf['split']
        a.cards = inf['cards']
        a.end = inf['end']
        a.hand = inf['hand']
        a.id = inf['id']
        a.surrender = inf['surrender']
        return a
    
    def sm(self):
        """
        –ú–µ—Ç–æ–¥, —Å—á–∏—Ç–∞—é—â–∏–π —Å—É–º–º—É –æ—á–∫–æ–≤ –≤ —Ä—É–∫–µ –∏–≥—Ä–æ–∫–∞
        """
        s = 0
        tuz = []
        for i in self.hand:
            if points[i] == 11:
                tuz.append(i)
            s += points[i]
            if s > 21 and tuz:
                tuz.pop(0)
                s -= 10
        return s

class Game():
    """
    –ö–ª–∞—Å—Å –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ä–∞–∑–¥–∞—á–∏ –≤ –±–ª–µ–∫–¥–∂–µ–∫–µ, —Ä–∞—Å—Å—á–∏—Ç–∞–Ω –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ —Ä–∞–º–∫–∞—Ö 1-–π —Ä–∞–∑–¥–∞—á–∏
    """
    
    def __init__(self, bet: int) -> None:
        """
        –ê—Ä–≥—É–º–µ–Ω—Ç—ã:
            bet: int - –æ–±—â–∞—è –¥–ª—è 1-–≥–æ —Å—Ç–æ–ª–∞ —Å—Ç–∞–≤–∫–∞
        """
        # –∏–≥—Ä–æ–∫–∏
        self.players = {}
        # —Å–ª–æ–≤–∞—Ä—å Dict[id: int, List[int]] - –∞–π–¥–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å–ø–∏—Å–æ–∫ –∏–∑ 1-–≥–æ –∏–ª–∏ 2-—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤,
        # –µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ —Å–ø–∏—Å–∫–µ 1, –∑–Ω–∞—á–∏—Ç —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –µ—Å—Ç—å –ø—Ä–∞–≤–æ —Ö–æ–¥–∏—Ç—å, –µ—Å–ª–∏ 0, —Ç–æ –æ–Ω —É–∂–µ —Å—ã–≥—Ä–∞–ª
        # –µ—Å–ª–∏ —Å–ø–∏—Å–æ–∫ –∏–∑ 2-—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –∑–Ω–∞—á–∏—Ç –∏–≥—Ä–æ–∫ —Å–¥–µ–ª–∞–ª —Å–ø–ª–∏—Ç –∏ —Å—á–∏—Ç–∞–µ—Ç—Å—è –∫–∞–∫ 2 –∏–≥—Ä–æ–∫–∞
        self.played = {}
        # –∞–π–¥–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —Å–µ–≤—à–∏—Ö –∑–∞ —Å—Ç–æ–ª
        self.reg = []
        # —Å—Ç–∞–≤–∫–∞ —Å—Ç–æ–ª–∞
        self.bet = bet
        # –ø–∞—á–∫–∞ —Å—Ç–æ–ª–∞
        self.colode = col.copy()
        # –¥–∏–ª–µ—Ä
        self.dealer: Player
    
    async def add_player(self, id: int, name: str, money: int):
        """
        –ú–µ—Ç–æ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏–≥—Ä–æ–∫–∞ –≤ —Å–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Å—Ç–æ–ª–∞

        –ê—Ä–≥—É–º–µ–Ω—Ç—ã:
            id: int - –∞–π–¥–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            name: str - –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            money: int - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–µ–Ω–µ–≥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        """
        # –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ —Å–ª–æ–≤–∞—Ä—å –∏–≥—Ä–æ–∫–æ–≤ —Å—Ç–æ–ª–∞
        self.players[id] = [Player(name, self.bet, money, id)]
        # –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∏–≥—Ä–æ–∫—É —Ö–æ–¥–∏—Ç—å
        self.played[id] = [1]
        # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–∞ –∑–∞ —Å—Ç–æ–ª–æ–º
        self.reg.append(id)
    
    async def get_card(self):
        """
        –ú–µ—Ç–æ–¥ –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–æ–≤–æ–π –∫–∞—Ä—Ç—ã –∏–∑ –ø–∞—á–∫–∏

        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
            card: int - –Ω–æ–º–µ—Ä –∫–∞—Ä—Ç—ã, –∫–ª—é—á –∫ c, points
        """
        card = choice(self.colode)
        self.colode.remove(card)
        return card
    
    async def give_cards(self, player_id: int, amount: int):
        """
        –ú–µ—Ç–æ–¥, –≤—ã–¥–∞—é—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å id=player_id amount –∫–∞—Ä—Ç

        –ê—Ä–≥—É–º–µ–Ω—Ç—ã:
            player_id: int - –∞–π–¥–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            amount: int - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞—Ä—Ç, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ —Ä–∞–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
        
        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
            player: Player - –æ–±—ä–µ–∫—Ç –∏–≥—Ä–æ–∫–∞ —Å –æ–±–Ω–æ–≤–ª—ë–Ω–Ω–æ–π —Ä—É–∫–æ–π
        """
        index = await self.getCurrPlayerInd(player_id)
        hand = []
        for i in range(amount):
            hand.append(
                await self.get_card()
            )
            self.players[player_id][index].cards -= 1
        hand.extend(self.players[player_id][index].hand)
        await self.change(player_id, index, hand=hand)
        return self.players[player_id][index]
    
    async def getCurrPlayerInd(self, id):
        """
        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–≤–æ–≥–æ –∏–∑ –∏–≥—Ä–æ–∫–æ–≤, –ø–æ–¥ id=id, –µ—Å–ª–∏ –∏–≥—Ä–æ–∫ —Å–¥–µ–ª–∞–ª —Å–ø–ª–∏—Ç, —Ç–æ –∏–≥—Ä–æ–∫–æ–≤ –∑–∞ —Å—Ç–æ–ª–æ–º –ø–æ–¥ 1-–º id –¥–≤–æ–µ,
        —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–Ω–¥–µ–∫—Å –ø–µ—Ä–≤–æ–≥–æ –∏–≥—Ä–æ–∫–∞ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Ö–æ–¥–∞ –∏–∑ –¥–≤—É—Ö, –∏–Ω–∞—á–µ None
        
        –ü—Ä–∏–º–µ—Ä: –ò–≥—Ä–æ–∫ —Å–¥–µ–ª–∞–ª —Å–ø–ª–∏—Ç, –ø–æ—Ç–æ–º hit, –∏–Ω–¥–µ–∫—Å –±—É–¥–µ—Ç 0-–π, –ø–æ—Ç–æ–º –æ–Ω –∑–∞–≤–µ—Ä—à–∏—Ç —Ö–æ–¥,
        —á—Ç–æ–±—ã –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–∞–ª–µ–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏–ª–∏—Å—å —Å –≤—Ç–æ—Ä—ã–º –∏–≥—Ä–æ–∫–æ–º, –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–æ–∑–≤—Ä–∞—â—ë–Ω 1-–π –∏–Ω–¥–µ–∫—Å

        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
            i: int | None - –∏–Ω–¥–µ–∫—Å –∏–≥—Ä–æ–∫–∞ –≤ —Å–ø–∏—Å–∫–µ players, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω —Ö–æ–¥–∏—Ç—å
        """
        for i in range(len(self.players[id])):
            if self.players[id][i].end is False:
                return i
        return None
    
    async def create_dealer(self):
        """
        –ú–µ—Ç–æ–¥ —Å–æ–∑–¥–∞–Ω–∏—è –¥–∏–ª–µ—Ä–∞ —Å—Ç–æ–ª–∞
        """
        self.dealer = Player(
            "üë§ –î–∏–ª–µ—Ä",
            self.bet,
            99999999999999,
            None
        )
        self.dealer.hand.append(await self.get_card())
        self.dealer.hand.append(await self.get_card())
        
    async def change(self, id: int, index: int, **arg: dict):
        """
        –ú–µ—Ç–æ–¥, –∑–∞–º–µ–Ω—è—é—â–∏–π –æ–±—ä–µ–∫—Ç –∏–≥—Ä–æ–∫–∞ –Ω–∞ –Ω–æ–≤—ã–π, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å –Ω–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
        –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ —Ç—Ä–µ–±–æ–≤–∞–ª –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –æ—Ç–ª–∞–¥–∫–∏, —Ç–∞–∫ –∫–∞–∫ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª—è –æ–±—ä–µ–∫—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–∏
        –†–∞–±–æ—Ç–∞–µ—Ç, –Ω–µ —Ç—Ä–æ–≥–∞—Ç—å –±–µ–∑ –¥–æ–ª–∂–Ω–æ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è

        –ê—Ä–≥—É–º–µ–Ω—Ç—ã:
            id: int - –∞–π–¥–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            index: int - –∏–Ω–¥–µ–∫—Å –∏–≥—Ä–æ–∫–∞ –ø–æ–¥ id –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            args: Dict[str, Any] - —Å–ª–æ–≤–∞—Ä—å –∑–Ω–∞—á–µ–Ω–∏–π, —Ç—Ä–µ–±—É—é—â–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è
        """
        self.players[id][index] = self.players[id][index].from_dict(
            {
                'name': self.players[id][index].name,
                'money': self.players[id][index].money,
                'bet': self.players[id][index].bet,
                'split': self.players[id][index].split,
                'cards': self.players[id][index].cards,
                'end': self.players[id][index].end,
                'hand': self.players[id][index].hand,
                'id': self.players[id][index].id,
                'surrender': self.players[id][index].surrender,
                **arg
            }
        )
        
    async def end_move(self, id: int, s: bool=False):
        """
        –ú–µ—Ç–æ–¥, –∑–∞–≤–µ—Ä—à–∞—é—â–∏–π —Ö–æ–¥ –∏–≥—Ä–æ–∫–∞

        –ê—Ä–≥—É–º–µ–Ω—Ç—ã:
            id: int - –∞–π–¥–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            s: bool - —Å–¥–∞–ª—Å—è –ª–∏ –∏–≥—Ä–æ–∫
        
        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
            player: Player - –æ–±—ä–µ–∫—Ç –∏–≥—Ä–æ–∫–∞
        """
        index = await self.getCurrPlayerInd(id)
        self.played[id][index] -= 1
        await self.change(id, index, end=True, surrender=s)
        return self.players[id][index]
    
    async def split(self, id: int):
        """
        –ú–µ—Ç–æ–¥, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –¥–µ–π—Å—Ç–≤–∏—é –∏–≥—Ä–æ–∫–∞ –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º split, —Ä–∞–∑–¥–µ–ª—è–µ—Ç —Ä—É–∫—É –∏–≥—Ä–æ–∫–∞ –ø–æ—Ä–æ–≤–Ω—É –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –ø–æ 1-–π –Ω–æ–≤–æ–π –∫–∞—Ä—Ç–µ –∫–∞–∂–¥–æ–º—É
        –ö–∞–∂–¥–æ–º—É –∏–≥—Ä–æ–∫—É –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ö–æ–¥–∏—Ç—å –ø—Ä–∏ —Ç–æ–º, —á—Ç–æ –∏–≥—Ä–æ–∫–æ–≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç 1 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

        –ö–æ–º–∞–Ω–¥–∞ –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∞–≤–æ –Ω–∞ split —Å–æ–≥–ª–∞—Å–Ω–æ –ø—Ä–∞–≤–∏–ª–∞–º blackjack, —ç—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è –≤–æ–≤–Ω–µ

        –ê—Ä–≥—É–º–µ–Ω—Ç—ã:
            id: int - –∞–π–¥–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        
        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
            List[Player] - —Å–ø–∏—Å–æ–∫ –∏–≥—Ä–æ–∫–æ–≤ –ø–æ–¥ –∞–π–¥–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        """
        index = await self.getCurrPlayerInd(id)
        player = self.players[id][index]
        player.split = True

        # –¢–µ–ø–µ—Ä—å –∏–≥—Ä–æ–∫–æ–≤ 2-–µ
        self.players[id] = [player, player]
        self.played[id] = [1, 1]

        hand1 = [player.hand[0], await self.get_card()]
        hand2 = [player.hand[1], await self.get_card()]
        await self.change(id, 0, hand=hand1)
        await self.change(id, 1, hand=hand2)
        return self.players[id]

    async def double(self, id):
        """
        –ú–µ—Ç–æ–¥, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –¥–µ–π—Å—Ç–≤–∏—é –∏–≥—Ä–æ–∫–∞ –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º double, —É–¥–≤–∞–∏–≤–∞–µ—Ç —Å—Ç–∞–≤–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

        –ö–æ–º–∞–Ω–¥–∞ –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∞–≤–æ –Ω–∞ double —Å–æ–≥–ª–∞—Å–Ω–æ –ø—Ä–∞–≤–∏–ª–∞–º blackjack, —ç—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è –≤–æ–≤–Ω–µ, –∫–æ–º–∞–Ω–¥–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Ö–æ–¥ –∏–≥—Ä–æ–∫–∞
        –§–∏–Ω–∞–Ω—Å–æ–≤—É—é –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–≥—Ä–æ–∫–∞ –Ω–∞ —É–¥–≤–æ–µ–Ω–∏–µ —Å—Ç–∞–≤–∫–∏ —Ç–∞–∫–∂–µ —Å–ª–µ–¥—É–µ—Ç –¥–µ–ª–∞—Ç—å –≤–æ–≤–Ω–µ

        –ê—Ä–≥—É–º–µ–Ω—Ç—ã:
            id: int - –∞–π–¥–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        
        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
            Player - —Ç–µ–∫—É—â–∏–π –∏–≥—Ä–æ–∫ –ø–æ–¥ –∞–π–¥–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        """
        index = await self.getCurrPlayerInd(id)
        bet = self.players[id][index].bet
        self.players[id][index].bet += bet
        self.players[id][index].money -= bet
        self.players[id][index] = await self.give_cards(id, 1)
        self.players[id][index] = await self.end_move(id)
        return self.players[id][index]

    async def surrender(self, id):
        """
        –ú–µ—Ç–æ–¥, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –¥–µ–π—Å—Ç–≤–∏—é –∏–≥—Ä–æ–∫–∞ –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º surrender, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–¥–∞–ª—Å—è

        –ö–æ–º–∞–Ω–¥–∞ –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∞–≤–æ –Ω–∞ surrender —Å–æ–≥–ª–∞—Å–Ω–æ –ø—Ä–∞–≤–∏–ª–∞–º blackjack, —ç—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è –≤–æ–≤–Ω–µ, –∫–æ–º–∞–Ω–¥–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Ö–æ–¥ –∏–≥—Ä–æ–∫–∞

        –ê—Ä–≥—É–º–µ–Ω—Ç—ã:
            id: int - –∞–π–¥–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        
        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
            Player - —Ç–µ–∫—É—â–∏–π –∏–≥—Ä–æ–∫ –ø–æ–¥ –∞–π–¥–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        """
        index = await self.getCurrPlayerInd(id)
        self.players[id][index].money += int(self.players[id][index].bet / 2)
        self.players[id][index] = await self.end_move(id, s=True)
        return self.players[id][index]
    
    async def count_dealer(self):
        """
        –ú–µ—Ç–æ–¥ —Å—á–∏—Ç–∞–µ—Ç –æ—á–∫–∏ –¥–∏–ª–µ—Ä–∞ –∏, –ø–æ–∫–∞ –∏—Ö –º–µ–Ω–µ–µ 17-—Ç–∏, –¥–æ–±–∏—Ä–∞–µ—Ç –∫–∞—Ä—Ç—ã

        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
            s: int - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—á–∫–æ–≤ –¥–∏–ª–µ—Ä–∞
        """
        s = 0
        tuz = []
        for i in self.dealer.hand:
            if points[i] == 11:
                tuz.append(i)
            s += points[i]
            if s > 21 and tuz:
                tuz.pop(0)
                s -= 10
            
        while s < 17:
            self.dealer.hand.append(await self.get_card())
            s = 0
            tuz = []
            for i in self.dealer.hand:
                if points[i] == 11:
                    tuz.append(i)
                s += points[i]
                if s > 21 and tuz:
                    tuz.pop(0)
                    s -= 10
        return s
